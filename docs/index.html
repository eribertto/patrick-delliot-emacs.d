<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-09-20 Tue 04:05 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs configuration</title>
<meta name="author" content="Patrick D. Elliott" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs configuration</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org0c4b96d">1. Useful resources</a></li>
<li><a href="#orgd77094c">2. Early init file</a></li>
<li><a href="#org3dd14b7">3. Package management</a>
<ul>
<li><a href="#org419f3fc">3.1. <code>init.el</code> header</a></li>
<li><a href="#org37f678c">3.2. <code>straight.el</code></a>
<ul>
<li><a href="#org53d86a7">3.2.1. Bootstrap <code>straight.el</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org3d3f3dc">4. Emacs</a>
<ul>
<li><a href="#orgbf776ad">4.1. Variables</a></li>
<li><a href="#org977c8cb">4.2. Defaults</a></li>
<li><a href="#orga2f48b5">4.3. Electric</a></li>
</ul>
</li>
<li><a href="#org9608a3e">5. Keybindings</a>
<ul>
<li><a href="#orga01ed96">5.1. General</a></li>
<li><a href="#org57b89ff">5.2. Evil</a>
<ul>
<li><a href="#orgb453072">5.2.1. Evil collection</a></li>
<li><a href="#org24a98dd">5.2.2. Evil commentary</a></li>
<li><a href="#org9ad370a">5.2.3. Evil surround</a></li>
<li><a href="#orgdeca2f5">5.2.4. Evil goggles</a></li>
</ul>
</li>
<li><a href="#org6284fbf">5.3. Avy</a>
<ul>
<li><a href="#org8349c2d">5.3.1. Link hint</a></li>
</ul>
</li>
<li><a href="#orgf6b589d">5.4. Which key</a></li>
</ul>
</li>
<li><a href="#org38dcfbe">6. Appearance</a>
<ul>
<li><a href="#orgdc41a63">6.1. Icons</a></li>
<li><a href="#org11cb244">6.2. Olivetti</a></li>
<li><a href="#org5c3c741">6.3. Mode line</a></li>
<li><a href="#org378aff9">6.4. Fonts</a></li>
<li><a href="#orgd409f5d">6.5. Themes</a></li>
</ul>
</li>
<li><a href="#orge5ce3cc">7. Organization</a>
<ul>
<li><a href="#org60a13c1">7.1. Buffer management</a>
<ul>
<li><a href="#org1396770">7.1.1. <span class="todo TODO">TODO</span> <code>Popper</code></a></li>
<li><a href="#org80512f1">7.1.2. <code>bufler</code></a></li>
</ul>
</li>
<li><a href="#org12096a2">7.2. Projects</a></li>
<li><a href="#orgdaae1c0">7.3. File management</a></li>
</ul>
</li>
<li><a href="#org2847c62">8. Languages</a>
<ul>
<li><a href="#org9068fdc">8.1. Lua</a></li>
<li><a href="#org0d63372">8.2. Lisp</a>
<ul>
<li><a href="#org31b8063">8.2.1. Sly</a></li>
<li><a href="#org89c9616">8.2.2. lispy</a></li>
</ul>
</li>
<li><a href="#org078c1da">8.3. Org</a>
<ul>
<li><a href="#org5ec0c41">8.3.1. Org mode</a></li>
<li><a href="#org4c84ff4">8.3.2. Extra bindings</a></li>
<li><a href="#orge1342d8">8.3.3. Sidebar</a></li>
<li><a href="#orgcc89a61">8.3.4. Cliplink</a></li>
<li><a href="#org5737060">8.3.5. Superstar</a></li>
<li><a href="#org519e00b">8.3.6. Org roam</a></li>
<li><a href="#org0540c0b">8.3.7. Export</a></li>
<li><a href="#org51ebedf">8.3.8. Highlighting</a></li>
<li><a href="#org7bf380b">8.3.9. Org-noter</a></li>
<li><a href="#org670fd6b">8.3.10. <span class="todo TODO">TODO</span> checkout org-appear</a></li>
</ul>
</li>
<li><a href="#orga59cadd">8.4. <span class="todo TODO">TODO</span> haskell</a></li>
<li><a href="#orgafa2ef1">8.5. racket</a></li>
<li><a href="#orgabda43e">8.6. nix</a></li>
<li><a href="#orge0ee2c0">8.7. <span class="todo SOMEDAY">SOMEDAY</span> latex</a>
<ul>
<li><a href="#org6bb562a">8.7.1. Issues</a></li>
</ul>
</li>
<li><a href="#orgd3ddc4a">8.8. markdown</a></li>
</ul>
</li>
<li><a href="#orgf7c5d81">9. Completion</a>
<ul>
<li><a href="#orgfcfb4e2">9.1. Vertico with orderless and marginalia</a></li>
<li><a href="#orgbae5770">9.2. Consult</a></li>
<li><a href="#org1ebbc02">9.3. Embark</a></li>
<li><a href="#org840fb96">9.4. Corfu</a>
<ul>
<li><a href="#org8dedb13">9.4.1. <span class="todo TODO">TODO</span> this isn't working so well with haskell-mode</a></li>
<li><a href="#orgcf617f0">9.4.2. <span class="todo TODO">TODO</span> consider incorporating the <code>cape</code> package</a></li>
<li><a href="#org7e12cc9">9.4.3. <span class="todo SOMEDAY">SOMEDAY</span> Cape</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org80d8211">10. Checkers</a>
<ul>
<li><a href="#org814ec23">10.1. FIXME Flymake</a></li>
<li><a href="#org4ce3d22">10.2. Spell check</a></li>
</ul>
</li>
<li><a href="#orga309801">11. Tools</a>
<ul>
<li><a href="#org754ee5e">11.1. Snippets</a>
<ul>
<li><a href="#org05882fa">11.1.1. Auto-activating snippets</a></li>
<li><a href="#orgb88c8dd">11.1.2. Yasnippet</a></li>
<li><a href="#orgd6838c4">11.1.3. <span class="todo TODO">TODO</span> Tempel</a></li>
<li><a href="#org7f8b532">11.1.4. Autoinsert</a></li>
</ul>
</li>
<li><a href="#orgabd1433">11.2. Web preview</a></li>
<li><a href="#org0f04c29">11.3. Magit</a></li>
<li><a href="#org51ba9df">11.4. Eshell</a></li>
<li><a href="#orgcd3f9f6">11.5. LSP</a></li>
<li><a href="#org966bdf8">11.6. direnv</a></li>
<li><a href="#org4d5b071">11.7. <code>0x0</code></a></li>
<li><a href="#orgbdf6dd2">11.8. <span class="todo TODO">TODO</span> Elfeed</a></li>
<li><a href="#org05efc3b">11.9. <span class="todo TODO">TODO</span> Notmuch</a></li>
</ul>
</li>
<li><a href="#orgf367bf1">12. Staging grounds</a>
<ul>
<li><a href="#orgfdf55a0">12.1. consult-notmuch</a></li>
<li><a href="#orgdeed7cb">12.2. Org transclusion</a></li>
<li><a href="#org40b811f">12.3. Kmonad</a>
<ul>
<li><a href="#org0cbfb75">12.3.1. <span class="todo TODO">TODO</span> disable flymake mode in kbd-mode</a></li>
</ul>
</li>
<li><a href="#orga34128a">12.4. Org modern</a></li>
<li><a href="#org51e75f0">12.5. FIXME Smooth scrolling</a></li>
<li><a href="#org92ac29b">12.6. Numbex</a></li>
<li><a href="#orgb042710">12.7. Deadgrep</a></li>
<li><a href="#org27b91e4">12.8. Tree-sitter</a></li>
<li><a href="#orgd1a7ef3">12.9. Helpful</a></li>
</ul>
</li>
<li><a href="#orgc43f5e4">13. Graveyard</a>
<ul>
<li><a href="#org469fc8a">13.1. math convert</a></li>
<li><a href="#org2fb16ad">13.2. Cdrt</a></li>
<li><a href="#org1a7010f">13.3. cdlatex</a></li>
<li><a href="#org1198843">13.4. company</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
Currently tailored for GNU Emacs 28.1.
</p>

<div id="outline-container-org0c4b96d" class="outline-2">
<h2 id="org0c4b96d"><span class="section-number-2">1.</span> Useful resources</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><a href="https://www.lucacambiaghi.com/vanilla-emacs/readme.html">Luca's literate Emacs config</a></li>
<li><a href="https://github.com/alphapapa/ap.el">GitHub - alphapapa/ap.el: A simple, Emacs Lisp-focused Emacs config</a></li>
<li><a href="https://github.com/abo-abo/oremacs">GitHub - abo-abo/oremacs: My Emacs config</a></li>
<li><a href="https://github.com/jwiegley/dot-emacs">GitHub - jwiegley/dot-emacs: My .emacs.el file and other personal Emacs goodies</a></li>
<li><a href="https://tecosaur.github.io/emacs-config/config.html">Tecoaur's Doom Emacs Configuration</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd77094c" class="outline-2">
<h2 id="orgd77094c"><span class="section-number-2">2.</span> Early init file</h2>
<div class="outline-text-2" id="text-2">
<p>
Since we're using <code>straight.el</code>  as our package manager, we add the following to <code>early-init.el</code> to prevent <code>package.el</code> from loading packages, prior to our init file loading.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;;; </span><span style="color: #6272a4;">early-init.el --- Early Init File -*- lexical-binding: t; no-byte-compile: t -*-</span>

(<span style="color: #f5c2e7; font-weight: bold;">setq</span> package-enable-at-startup nil)
</pre>
</div>

<p>
Disable GUI elements before we have a chance to peek.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(menu-bar-mode -1) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">disables menubar</span>
(tool-bar-mode -1) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">disables toolbar</span>
(scroll-bar-mode -1) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">disables scrollbar</span>

(<span style="color: #f5c2e7; font-weight: bold;">setq</span> inhibit-splash-screen t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">no thanks</span>
(<span style="color: #f5c2e7; font-weight: bold;">setq</span> use-file-dialog nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">don't use system file dialog</span>

(<span style="color: #f5c2e7; font-weight: bold;">setq</span> tab-bar-new-button-show nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">don't show new tab button</span>
(<span style="color: #f5c2e7; font-weight: bold;">setq</span> tab-bar-close-button-show nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">don't show tab close button</span>
(<span style="color: #f5c2e7; font-weight: bold;">setq</span> tab-line-close-button-show nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">don't show tab close button</span>
<span style="color: #6272a4;">;;; </span><span style="color: #6272a4;">early-init.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3dd14b7" class="outline-2">
<h2 id="org3dd14b7"><span class="section-number-2">3.</span> Package management</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org419f3fc" class="outline-3">
<h3 id="org419f3fc"><span class="section-number-3">3.1.</span> <code>init.el</code> header</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;;; </span><span style="color: #6272a4;">init.el --- Personal configuration file -*- lexical-binding: t; no-byte-compile: t; -*-</span>
<span style="color: #6272a4;">;; </span><span style="color: #d0bf8f;">NOTE</span><span style="color: #6272a4;">: init.el is now generated from readme.org.  Please edit that file instead</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org37f678c" class="outline-3">
<h3 id="org37f678c"><span class="section-number-3">3.2.</span> <code>straight.el</code></h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><a href="https://github.com/raxod502/straight.el">GitHub - raxod502/straight.el: 🍀 Next-generation, purely functional package m&#x2026;</a></li>
</ul>

<p>
Some rules/conventions:
</p>

<ul class="org-ul">
<li>When packages don't require installation, use <code>:straight (:type built-in)</code>.</li>
<li>Prefer multiple <code>setq</code> expressions to one.</li>
<li>Prefer <code>:init</code> to <code>:custom</code>.</li>
</ul>

<p>
Quick how-to for straight:
</p>

<ul class="org-ul">
<li>The lockfile is under version control at <a href="straight/versions/default.el">default.el</a>.</li>
<li>Create a lockfile by running <code>straight-freeze-versions</code>.</li>
<li>Whenever I want to roll back to versions pinned in the lockfile run <code>straight-thaw-versions</code>.</li>
<li>Upgrade packages via <code>straight-pull-all</code>.</li>
</ul>
</div>

<div id="outline-container-org53d86a7" class="outline-4">
<h4 id="org53d86a7"><span class="section-number-4">3.2.1.</span> Bootstrap <code>straight.el</code></h4>
<div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">setq</span> straight-use-package-by-default t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">have use-package use straight.el by default.</span>

(<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">bootstrap-version</span>)
(<span style="color: #f5c2e7; font-weight: bold;">let</span> ((bootstrap-file
       (expand-file-name <span style="color: #fae3b0;">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory))
      (bootstrap-version 5))
  (<span style="color: #f5c2e7; font-weight: bold;">unless</span> (file-exists-p bootstrap-file)
    (<span style="color: #f5c2e7; font-weight: bold;">with-current-buffer</span>
        (url-retrieve-synchronously
         <span style="color: #fae3b0;">"https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))

(straight-use-package 'use-package) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">install use-package via straight</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org3d3f3dc" class="outline-2">
<h2 id="org3d3f3dc"><span class="section-number-2">4.</span> Emacs</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgbf776ad" class="outline-3">
<h3 id="orgbf776ad"><span class="section-number-3">4.1.</span> Variables</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">patrl/library-path</span> <span style="color: #fae3b0;">"~/Dropbox (MIT)/library/"</span>
  <span style="color: #6272a4;">"Directory .pdf collection lives."</span>)

(<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">patrl/notes-path</span> <span style="color: #fae3b0;">"~/notes/"</span>
  <span style="color: #6272a4;">"Notes."</span>)

(<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">patrl/journal-path</span> (concat patrl/notes-path <span style="color: #fae3b0;">"daily/"</span>)
  <span style="color: #6272a4;">"Journal entries."</span>)

(<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">patrl/global-bib-file</span> <span style="color: #fae3b0;">"~/repos/bibliography/master.bib"</span>
  <span style="color: #6272a4;">"Bibliography."</span>)

(<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">patrl/org-path</span> <span style="color: #fae3b0;">"~/Dropbox (MIT)/org/"</span>
  <span style="color: #6272a4;">"Org path."</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org977c8cb" class="outline-3">
<h3 id="org977c8cb"><span class="section-number-3">4.2.</span> Defaults</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">emacs</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> user-full-name <span style="color: #fae3b0;">"Patrick D. Elliott"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">my details</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> user-mail-address <span style="color: #fae3b0;">"patrick.d.elliott@gmail.com"</span>)

  (<span style="color: #f5c2e7; font-weight: bold;">defalias</span> '<span style="color: #abe9b3; font-weight: bold;">yes-or-no-p</span> 'y-or-n-p) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">life is too short</span>

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> indent-tabs-mode nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">no tabs</span>

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> make-backup-files nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">keep everything under vc </span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> auto-save-default nil)

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">keep backup and save files in a dedicated directory</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> backup-directory-alist
        `((<span style="color: #fae3b0;">".*"</span> . ,(concat user-emacs-directory <span style="color: #fae3b0;">"backups"</span>)))
        auto-save-file-name-transforms
        `((<span style="color: #fae3b0;">".*"</span> ,(concat user-emacs-directory <span style="color: #fae3b0;">"backups"</span>) t)))

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> create-lockfiles nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">no need to create lockfiles</span>

  (set-charset-priority 'unicode) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">utf8 in every nook and cranny</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> locale-coding-system 'utf-8
        coding-system-for-read 'utf-8
        coding-system-for-write 'utf-8)
  (set-terminal-coding-system 'utf-8)
  (set-keyboard-coding-system 'utf-8)
  (set-selection-coding-system 'utf-8)
  (prefer-coding-system 'utf-8)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> default-process-coding-system '(utf-8-unix . utf-8-unix))

  (global-set-key (kbd <span style="color: #fae3b0;">"&lt;escape&gt;"</span>) 'keyboard-escape-quit) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">escape quits everything</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Don't persist a custom file</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> custom-file (make-temp-file <span style="color: #fae3b0;">""</span>)) <span style="color: #6272a4;">; </span><span style="color: #6272a4;">use a temp file as a placeholder</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> custom-safe-themes t)            <span style="color: #6272a4;">; </span><span style="color: #6272a4;">mark all themes as safe, since we can't persist now</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> enable-local-variables <span style="color: #89dceb; font-style: italic;">:all</span>)     <span style="color: #6272a4;">; </span><span style="color: #6272a4;">fix =defvar= warnings</span>

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> delete-by-moving-to-trash t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">use trash-cli rather than rm when deleting files.</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">less noise when compiling elisp</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> byte-compile-warnings '(not free-vars unresolved noruntime lexical make-local))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> native-comp-async-report-warnings-errors nil)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> load-prefer-newer t)

  <span style="color: #6272a4;">;; </span><span style="color: #cc9393;">FIXME</span><span style="color: #6272a4;"> currently using tempel in org-mode triggers this warning</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(setq warning-suppress-types (append warning-suppress-types '((org-element-cache))))</span>

  (show-paren-mode t)

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Hide commands in M-x which don't work in the current mode</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> read-extended-command-predicate #'command-completion-default-include-p))
</pre>
</div>
</div>
</div>


<div id="outline-container-orga2f48b5" class="outline-3">
<h3 id="orga2f48b5"><span class="section-number-3">4.3.</span> Electric</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">electric</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in)
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (electric-pair-mode +1) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">automatically insert closing parens </span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> electric-pair-preserve-balance nil)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">more annoying than useful</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9608a3e" class="outline-2">
<h2 id="org9608a3e"><span class="section-number-2">5.</span> Keybindings</h2>
<div class="outline-text-2" id="text-5">
<p>
Mnemonic keybindings with <code>SPC</code> as the leader key, inspired by spacemacs and doom emacs.
</p>

<p>
The local leader <code>,</code> is used for mode-specific bindings.
</p>
</div>

<div id="outline-container-orga01ed96" class="outline-3">
<h3 id="orga01ed96"><span class="section-number-3">5.1.</span> General</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">general</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (general-evil-setup)
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">integrate general with evil</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">set up '</span><span style="color: #bd93f9;">SPC</span><span style="color: #6272a4;">' as the global leader key</span>
  (<span style="color: #f5c2e7; font-weight: bold;">general-create-definer</span> patrl/leader-keys
    <span style="color: #89dceb; font-style: italic;">:states</span> '(normal insert visual emacs)
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'override
    <span style="color: #89dceb; font-style: italic;">:prefix</span> <span style="color: #fae3b0;">"SPC"</span> <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">set leader</span>
    <span style="color: #89dceb; font-style: italic;">:global-prefix</span> <span style="color: #fae3b0;">"M-SPC"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">access leader in insert mode</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">set up ',' as the local leader key</span>
  (<span style="color: #f5c2e7; font-weight: bold;">general-create-definer</span> patrl/local-leader-keys
    <span style="color: #89dceb; font-style: italic;">:states</span> '(normal insert visual emacs)
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'override
    <span style="color: #89dceb; font-style: italic;">:prefix</span> <span style="color: #fae3b0;">","</span> <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">set local leader</span>
    <span style="color: #89dceb; font-style: italic;">:global-prefix</span> <span style="color: #fae3b0;">"M-,"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">access local leader in insert mode</span>

  (general-define-key
   <span style="color: #89dceb; font-style: italic;">:states</span> 'insert
   <span style="color: #fae3b0;">"C-g"</span> 'evil-normal-state) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">don't stretch for ESC</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">unbind some annoying default bindings</span>
  (<span style="color: #f5c2e7; font-weight: bold;">general-unbind</span>
    <span style="color: #fae3b0;">"C-x C-r"</span>   <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">unbind find file read only</span>
    <span style="color: #fae3b0;">"C-x C-z"</span>   <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">unbind suspend frame</span>
    <span style="color: #fae3b0;">"C-x C-d"</span>   <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">unbind list directory</span>
    <span style="color: #fae3b0;">"&lt;mouse-2&gt;"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">pasting with mouse wheel click</span>


  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"SPC"</span> '(execute-extended-command <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"execute command"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">an alternative to '</span><span style="color: #bd93f9;">M-x</span><span style="color: #6272a4;">'</span>
    <span style="color: #fae3b0;">"TAB"</span> '(<span style="color: #89dceb; font-style: italic;">:keymap</span> tab-prefix-map <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"tab"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">remap tab bindings</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">help</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">namespace mostly used by '</span><span style="color: #bd93f9;">helpful</span><span style="color: #6272a4;">'</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"h"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"help"</span>))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">file</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"f"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"file"</span>)
    <span style="color: #fae3b0;">"ff"</span> '(find-file <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"find file"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">gets overridden by consult</span>
    <span style="color: #fae3b0;">"fs"</span> '(save-buffer <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"save file"</span>))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">buffer </span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">see '</span><span style="color: #bd93f9;">bufler</span><span style="color: #6272a4;">' and '</span><span style="color: #bd93f9;">popper</span><span style="color: #6272a4;">'</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"b"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"buffer"</span>)
    <span style="color: #fae3b0;">"bb"</span> '(switch-to-buffer <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"switch buffer"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">gets overridden by consult</span>
    <span style="color: #fae3b0;">"bk"</span> '(kill-this-buffer <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"kill this buffer"</span>)
    <span style="color: #fae3b0;">"br"</span> '(revert-buffer <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"reload buffer"</span>))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">bookmark</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"B"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"bookmark"</span>)
    <span style="color: #fae3b0;">"Bs"</span> '(bookmark-set <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"set bookmark"</span>)
    <span style="color: #fae3b0;">"Bj"</span> '(bookmark-jump <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"jump to bookmark"</span>))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">universal argument</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"u"</span> '(universal-argument <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"universal prefix"</span>))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">notes</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">see '</span><span style="color: #bd93f9;">citar</span><span style="color: #6272a4;">' and '</span><span style="color: #bd93f9;">org-roam</span><span style="color: #6272a4;">'</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"n"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"notes"</span>)
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">see org-roam and citar sections</span>
    <span style="color: #fae3b0;">"na"</span> '(org-todo-list <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"agenda todos"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">agenda</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">code</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">see '</span><span style="color: #bd93f9;">flymake</span><span style="color: #6272a4;">'</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"c"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"code"</span>))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">open</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"o"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"open"</span>)
    <span style="color: #fae3b0;">"os"</span> '(speedbar t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"speedbar"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #6272a4;"> this needs some love</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">search</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">see '</span><span style="color: #bd93f9;">consult</span><span style="color: #6272a4;">'</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"s"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"search"</span>)))

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">capture</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(patrl/leader-keys</span>

    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">"c" '(org-capture :wk "capture")))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org57b89ff" class="outline-3">
<h3 id="org57b89ff"><span class="section-number-3">5.2.</span> Evil</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"w"</span> '(<span style="color: #89dceb; font-style: italic;">:keymap</span> evil-window-map <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"window"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">window bindings</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-search-module 'isearch)

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-want-C-u-scroll t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">allow scroll up with '</span><span style="color: #bd93f9;">C-u</span><span style="color: #6272a4;">'</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-want-C-d-scroll t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">allow scroll down with '</span><span style="color: #bd93f9;">C-d</span><span style="color: #6272a4;">'</span>

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-want-integration t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">necessary for evil collection</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-want-keybinding nil)

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-split-window-below t)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-vsplit-window-right t)

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-want-C-i-jump nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">hopefully this will fix weird tab behaviour</span>

  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-undo-system 'undo-redo) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">undo via '</span><span style="color: #bd93f9;">u</span><span style="color: #6272a4;">', and redo the undone change via '</span><span style="color: #bd93f9;">C-r</span><span style="color: #6272a4;">'; only available in emacs 28+.</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (evil-mode t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">globally enable evil mode</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">set the initial state for some kinds of buffers.</span>
  (evil-set-initial-state 'messages-buffer-mode 'normal)
  (evil-set-initial-state 'dashboard-mode 'normal)
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">buffers in which I want to immediately start typing should be in '</span><span style="color: #bd93f9;">insert</span><span style="color: #6272a4;">' state by default.</span>
  (evil-set-initial-state 'eshell-mode 'insert)
  (evil-set-initial-state 'magit-diff-mode 'insert))
</pre>
</div>
</div>

<div id="outline-container-orgb453072" class="outline-4">
<h4 id="orgb453072"><span class="section-number-4">5.2.1.</span> Evil collection</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil-collection</span> <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">evilifies a bunch of things</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> evil
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> evil-collection-outline-bind-tab-p t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">'</span><span style="color: #bd93f9;">&lt;TAB&gt;</span><span style="color: #6272a4;">' cycles visibility in '</span><span style="color: #bd93f9;">outline-minor-mode</span><span style="color: #6272a4;">'</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">If I want to incrementally enable evil-collection mode-by-mode, I can do something like the following:</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(setq evil-collection-mode-list nil) ;; I don't like surprises</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(add-to-list 'evil-collection-mode-list 'magit) ;; evilify magit</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(add-to-list 'evil-collection-mode-list '(pdf pdf-view)) ;; evilify pdf-view</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (evil-collection-init))
</pre>
</div>
</div>
</div>

<div id="outline-container-org24a98dd" class="outline-4">
<h4 id="org24a98dd"><span class="section-number-4">5.2.2.</span> Evil commentary</h4>
<div class="outline-text-4" id="text-5-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #6272a4;">port of Tim Pope's commentary package</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil-commentary</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> evil
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (evil-commentary-mode)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">globally enable evil-commentary</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ad370a" class="outline-4">
<h4 id="org9ad370a"><span class="section-number-4">5.2.3.</span> Evil surround</h4>
<div class="outline-text-4" id="text-5-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #6272a4;">port of Tim Pope's surround package</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil-surround</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> evil
  <span style="color: #89dceb; font-style: italic;">:hook</span> ((org-mode . (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">push</span> '(?~ . (<span style="color: #fae3b0;">"~"</span> . <span style="color: #fae3b0;">"~"</span>)) evil-surround-pairs-alist)))
         (org-mode . (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">push</span> '(?$ . (<span style="color: #fae3b0;">"</span><span style="color: #89dceb;">\\</span><span style="color: #bd93f9;">(</span><span style="color: #fae3b0;">"</span> . <span style="color: #fae3b0;">"</span><span style="color: #89dceb;">\\</span><span style="color: #bd93f9;">)</span><span style="color: #fae3b0;">"</span>)) evil-surround-pairs-alist))))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (global-evil-surround-mode 1)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">globally enable evil-surround</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdeca2f5" class="outline-4">
<h4 id="orgdeca2f5"><span class="section-number-4">5.2.4.</span> Evil goggles</h4>
<div class="outline-text-4" id="text-5-2-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #6272a4;">show visual hints for evil motions</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil-goggles</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (evil-goggles-mode)

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">optionally use diff-mode's faces; as a result, deleted text</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">will be highlighed with `diff-removed` face which is typically</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">some red color (as defined by the color theme)</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">other faces such as `diff-added` will be used for other actions</span>
  (evil-goggles-use-diff-faces))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6284fbf" class="outline-3">
<h3 id="org6284fbf"><span class="section-number-3">5.3.</span> Avy</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li><a href="https://karthinks.com/software/avy-can-do-anything/">Avy can do anything | Karthinks</a></li>
</ul>

<p>
Super-charged navigaton.
</p>

<p>
Use <code>.</code> after an avy command to trigger <code>embark-act</code> on the selected candidate. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">avy</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">patrl/avy-action-kill-whole-line</span> (pt)
    (<span style="color: #f5c2e7; font-weight: bold;">save-excursion</span>
      (goto-char pt)
      (kill-whole-line))
    (select-window
     (cdr
      (ring-ref avy-ring 0))))
  (<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">patrl/avy-action-embark</span> (pt)
    (<span style="color: #f5c2e7; font-weight: bold;">unwind-protect</span>
        (<span style="color: #f5c2e7; font-weight: bold;">save-excursion</span>
          (goto-char pt)
          (embark-act))
      (select-window
       (cdr (ring-ref avy-ring 0))))
    t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">adds an avy action for embark</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">general-def</span> '(normal motion)
    <span style="color: #fae3b0;">"s"</span> 'evil-avy-goto-char-timer
    <span style="color: #fae3b0;">"f"</span> 'evil-avy-goto-char-in-line
    <span style="color: #fae3b0;">"gl"</span> 'evil-avy-goto-line <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">this rules</span>
    <span style="color: #fae3b0;">";"</span> 'avy-resume)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setf</span> (alist-get ?. avy-dispatch-alist) 'patrl/avy-action-embark <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">embark integration</span>
        (alist-get ?K avy-dispatch-alist) 'patrl/avy-action-kill-whole-line)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">kill lines with avy</span>
</pre>
</div>
</div>

<div id="outline-container-org8349c2d" class="outline-4">
<h4 id="org8349c2d"><span class="section-number-4">5.3.1.</span> Link hint</h4>
<div class="outline-text-4" id="text-5-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">link-hint</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"l"</span> '(link-hint-open-link <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"open link"</span>))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> browse-url-browser-function 'browse-url-firefox)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> link-hint-avy-style 'pre))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgf6b589d" class="outline-3">
<h3 id="orgf6b589d"><span class="section-number-3">5.4.</span> Which key</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Display key bindings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">which-key</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> evil
  <span style="color: #89dceb; font-style: italic;">:init</span> (which-key-mode)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (which-key-setup-minibuffer))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org38dcfbe" class="outline-2">
<h2 id="org38dcfbe"><span class="section-number-2">6.</span> Appearance</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgdc41a63" class="outline-3">
<h3 id="orgdc41a63"><span class="section-number-3">6.1.</span> Icons</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">all-the-icons</span>)


<span style="color: #6272a4;">;; </span><span style="color: #6272a4;">prettify dired with icons</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">all-the-icons-dired</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (dired-mode . all-the-icons-dired-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org11cb244" class="outline-3">
<h3 id="org11cb244"><span class="section-number-3">6.2.</span> Olivetti</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Add some margins (useful for writing prose).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">olivetti</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> olivetti-body-width 80)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> olivetti-style 'fancy)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> olivetti-minimum-body-width 50))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5c3c741" class="outline-3">
<h3 id="org5c3c741"><span class="section-number-3">6.3.</span> Mode line</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Minimal mode line.   
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">mood-line</span>
  <span style="color: #89dceb; font-style: italic;">:config</span> (mood-line-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org378aff9" class="outline-3">
<h3 id="org378aff9"><span class="section-number-3">6.4.</span> Fonts</h3>
<div class="outline-text-3" id="text-6-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">patrl/setup-font-faces</span> ()
  (set-face-attribute 'default nil <span style="color: #89dceb; font-style: italic;">:font</span> (font-spec <span style="color: #89dceb; font-style: italic;">:family</span> <span style="color: #fae3b0;">"Blex Mono Nerd Font"</span> <span style="color: #89dceb; font-style: italic;">:size</span> 30 <span style="color: #89dceb; font-style: italic;">:weight</span> 'medium))
  (set-face-attribute 'fixed-pitch nil <span style="color: #89dceb; font-style: italic;">:font</span> (font-spec <span style="color: #89dceb; font-style: italic;">:family</span> <span style="color: #fae3b0;">"Blex Mono Nerd Font"</span> <span style="color: #89dceb; font-style: italic;">:size</span> 30 <span style="color: #89dceb; font-style: italic;">:weight</span> 'medium))
  (set-face-attribute 'variable-pitch nil <span style="color: #89dceb; font-style: italic;">:font</span> (font-spec <span style="color: #89dceb; font-style: italic;">:family</span> <span style="color: #fae3b0;">"iA Writer Duospace"</span> <span style="color: #89dceb; font-style: italic;">:size</span> 30 <span style="color: #89dceb; font-style: italic;">:weight</span> 'medium))
  (set-fontset-font t 'unicode <span style="color: #fae3b0;">"DeJa Vu Sans Mono"</span>)
  (set-fontset-font t nil <span style="color: #fae3b0;">"Twitter Color Emoji"</span>))

<span style="color: #6272a4;">;; </span><span style="color: #6272a4;">run this hook after we have initialized the first time</span>
(add-hook 'after-init-hook 'patrl/setup-font-faces)
<span style="color: #6272a4;">;; </span><span style="color: #6272a4;">re-run this hook if we create a new frame from daemonized Emacs</span>
(add-hook 'server-after-make-frame-hook 'patrl/setup-font-faces)
</pre>
</div>

<p>
N.b. that this interacts with <code>org-superstars-mode</code>.
</p>
</div>
</div>

<div id="outline-container-orgd409f5d" class="outline-3">
<h3 id="orgd409f5d"><span class="section-number-3">6.5.</span> Themes</h3>
<div class="outline-text-3" id="text-6-5">
<p>
Visually distinguish between 'real' buffers and everything else.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">solaire-mode</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (solaire-global-mode +1))
</pre>
</div>

<p>
Some nice themes:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">tron-legacy-theme</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> tron-legacy-theme-vivid-cursor t))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">catppuccin-theme</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> catppuccin-height-title1 1.5)
  (load-theme 'catppuccin t))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">doom-themes</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Global settings (defaults)</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> doom-themes-enable-bold t <span style="color: #6272a4;">; </span><span style="color: #6272a4;">if nil, bold is universally disabled</span>
        doom-themes-enable-italic t)
                                        <span style="color: #6272a4;">; </span><span style="color: #6272a4;">if nil, italics is universally disabled</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(load-theme 'doom-nord t)</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Enable flashing mode-line on errors</span>
  (doom-themes-visual-bell-config)
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Corrects (and improves) org-mode's native fontification.</span>
  (doom-themes-org-config))
</pre>
</div>

<p>
Visually highlight todo.   
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">hl-todo</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (global-hl-todo-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge5ce3cc" class="outline-2">
<h2 id="orge5ce3cc"><span class="section-number-2">7.</span> Organization</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org60a13c1" class="outline-3">
<h3 id="org60a13c1"><span class="section-number-3">7.1.</span> Buffer management</h3>
<div class="outline-text-3" id="text-7-1">
</div>
<div id="outline-container-org1396770" class="outline-4">
<h4 id="org1396770"><span class="section-number-4">7.1.1.</span> <span class="todo TODO">TODO</span> <code>Popper</code></h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
Classify certain buffer types as popups.
</p>

<p>
Not sure if I want to keep this around.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">popper</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
        <span style="color: #fae3b0;">"bp"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"popper"</span>)
        <span style="color: #fae3b0;">"bpc"</span> '(popper-cycle t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"cycle"</span>)
        <span style="color: #fae3b0;">"bpt"</span> '(popper-toggle-latest t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"toggle latest"</span>)
        <span style="color: #fae3b0;">"bpb"</span> '(popper-toggle-type t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"toggle type"</span>)
        <span style="color: #fae3b0;">"bpk"</span> '(popper-kill-latest-popup t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"kill latest"</span>))
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> popper-reference-buffers
        '(<span style="color: #fae3b0;">"\\*Messages\\*"</span>
          <span style="color: #fae3b0;">"Output\\*$"</span>
          <span style="color: #fae3b0;">"\\*helpful"</span>
          <span style="color: #fae3b0;">"\\*Async Shell Command\\*"</span>
          help-mode
          compilation-mode
          magit-process-mode
          <span style="color: #fae3b0;">"^\\*eshell.*\\*"</span> eshell-mode
          <span style="color: #fae3b0;">"\\*direnv\\*"</span>
          <span style="color: #fae3b0;">"\\*elfeed-log\\*"</span>
          <span style="color: #fae3b0;">"\\*straight-process\\*"</span>
          <span style="color: #fae3b0;">"\\*Async-native-compile-log\\*"</span>
          <span style="color: #fae3b0;">"\\*TeX Help\\*"</span>
          <span style="color: #fae3b0;">"\\*Embark Collect Live\\*"</span>))
  (popper-mode +1)
  (popper-echo-mode +1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org80512f1" class="outline-4">
<h4 id="org80512f1"><span class="section-number-4">7.1.2.</span> <code>bufler</code></h4>
<div class="outline-text-4" id="text-7-1-2">
<p>
This has been quite nice so far.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">bufler</span>
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (bufler-workspace-mode t)
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(bufler-workspace-tabs-mode t)</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"bB"</span> '(bufler <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"bufler"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">overrides consult</span>
    <span style="color: #fae3b0;">"bf"</span> '(bufler-workspace-frame-set <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"bufler workspace frame set"</span>) 
    <span style="color: #fae3b0;">"bl"</span> '(bufler-list <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"bufler list"</span>))
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'bufler-list-mode-map
            <span style="color: #89dceb; font-style: italic;">:states</span> 'normal
            <span style="color: #fae3b0;">"?"</span> 'hydra:bufler/body
            <span style="color: #fae3b0;">"RET"</span> 'bufler-list-buffer-switch
            <span style="color: #fae3b0;">"SPC"</span> 'bufler-list-buffer-peek
            <span style="color: #fae3b0;">"d"</span> 'bufler-list-buffer-kill))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org12096a2" class="outline-3">
<h3 id="org12096a2"><span class="section-number-3">7.2.</span> Projects</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #6272a4;">use emacs' built-in '</span><span style="color: #bd93f9;">project.el</span><span style="color: #6272a4;">'</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">project</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span> <span style="color: #fae3b0;">"p"</span> '(<span style="color: #89dceb; font-style: italic;">:keymap</span> project-prefix-map <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"project"</span>))
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdaae1c0" class="outline-3">
<h3 id="orgdaae1c0"><span class="section-number-3">7.3.</span> File management</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">dired</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"fd"</span> '(dired <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"dired"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">open dired (in a directory)</span>
    <span style="color: #fae3b0;">"fj"</span> '(dired-jump <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"dired jump"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">open direct in the current directory</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">ranger like navigation</span>
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'dired-mode-map
            <span style="color: #89dceb; font-style: italic;">:states</span> 'normal
            <span style="color: #fae3b0;">"h"</span> 'dired-up-directory
            <span style="color: #fae3b0;">"q"</span> 'kill-current-buffer
            <span style="color: #fae3b0;">"l"</span> 'dired-find-file)
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (dired-mode . dired-hide-details-mode) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">make dired prettier</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in))

<span style="color: #6272a4;">;; </span><span style="color: #6272a4;">toggle subtree visibility with '</span><span style="color: #bd93f9;">TAB</span><span style="color: #6272a4;">'</span>
<span style="color: #6272a4;">;; </span><span style="color: #6272a4;">makes dired a much more pleasant file manager</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">dired-subtree</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2847c62" class="outline-2">
<h2 id="org2847c62"><span class="section-number-2">8.</span> Languages</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org9068fdc" class="outline-3">
<h3 id="org9068fdc"><span class="section-number-3">8.1.</span> Lua</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">lua-mode</span>
  <span style="color: #89dceb; font-style: italic;">:mode</span> <span style="color: #fae3b0;">"\\.lua\\'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d63372" class="outline-3">
<h3 id="org0d63372"><span class="section-number-3">8.2.</span> Lisp</h3>
<div class="outline-text-3" id="text-8-2">
</div>
<div id="outline-container-org31b8063" class="outline-4">
<h4 id="org31b8063"><span class="section-number-4">8.2.1.</span> Sly</h4>
<div class="outline-text-4" id="text-8-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #cc9393;">FIXME</span><span style="color: #6272a4;"> - compatibility with corfu</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">sly</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org89c9616" class="outline-4">
<h4 id="org89c9616"><span class="section-number-4">8.2.2.</span> lispy</h4>
<div class="outline-text-4" id="text-8-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">lispy</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'lispy-mode-map 
            <span style="color: #fae3b0;">"TAB"</span> 'indent-for-tab-command) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">necessary for '</span><span style="color: #bd93f9;">corfu</span><span style="color: #6272a4;">'</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> (emacs-lisp-mode . lispy-mode)
  (racket-mode . lispy-mode))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">lispyville</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> (lispy-mode . lispyville-mode)
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'lispyville-mode-map
            <span style="color: #fae3b0;">"TAB"</span> 'indent-for-tab-command) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">necessary for '</span><span style="color: #bd93f9;">corfu</span><span style="color: #6272a4;">'</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">the following is necessary to retain tab completion in lispy mode </span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #6272a4;"> play around with keythemes </span>
  (lispyville-set-key-theme '(operators c-w additional)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org078c1da" class="outline-3">
<h3 id="org078c1da"><span class="section-number-3">8.3.</span> Org</h3>
<div class="outline-text-3" id="text-8-3">
</div>
<div id="outline-container-org5ec0c41" class="outline-4">
<h4 id="org5ec0c41"><span class="section-number-4">8.3.1.</span> Org mode</h4>
<div class="outline-text-4" id="text-8-3-1">
<p>
Resources:
</p>
<ul class="org-ul">
<li><a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">zzamboni.org | Beautifying Org Mode in Emacs</a></li>
<li><a href="https://lepisma.xyz/2017/10/28/ricing-org-mode/">Ricing up Org Mode</a></li>
</ul>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">:straight (:type built-in)</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-todo-keywords
        <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">it's extremely useful to distinguish between short-term goals and long-term projects</span>
        '((sequence <span style="color: #fae3b0;">"</span><span style="color: #cc9393;">TODO</span><span style="color: #fae3b0;">(t)"</span> <span style="color: #fae3b0;">"SOMEDAY(s)"</span> <span style="color: #fae3b0;">"|"</span> <span style="color: #fae3b0;">"</span><span style="color: #afd8af;">DONE</span><span style="color: #fae3b0;">(d)"</span>)
          (sequence <span style="color: #fae3b0;">"TO-READ(r)"</span> <span style="color: #fae3b0;">"READING(R)"</span> <span style="color: #fae3b0;">"|"</span> <span style="color: #fae3b0;">"HAVE-READ(d)"</span>)
          (sequence <span style="color: #fae3b0;">"PROJ(p)"</span> <span style="color: #fae3b0;">"|"</span> <span style="color: #fae3b0;">"COMPLETED(c)"</span>)))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-src-fontify-natively t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">fontify code in src blocks</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-highlight-latex-and-related '(native))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-adapt-indentation nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">interacts poorly with '</span><span style="color: #bd93f9;">evil-open-below</span><span style="color: #6272a4;">'</span>
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (org-agenda-files '(<span style="color: #fae3b0;">"~/Dropbox (MIT)/org/agenda/"</span>))
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/local-leader-keys</span>
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'org-mode-map
    <span style="color: #fae3b0;">"a"</span> '(org-archive-subtree <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"archive"</span>)
    <span style="color: #fae3b0;">"l"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"link"</span>)
    <span style="color: #fae3b0;">"ll"</span> '(org-insert-link t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"link"</span>)
    <span style="color: #fae3b0;">"lp"</span> '(org-latex-preview t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"prev latex"</span>)
    <span style="color: #fae3b0;">"h"</span> '(consult-org-heading <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult heading"</span>)
    <span style="color: #fae3b0;">"d"</span> '(org-cut-special <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"org cut special"</span>)
    <span style="color: #fae3b0;">"y"</span> '(org-copy-special <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"org copy special"</span>)
    <span style="color: #fae3b0;">"p"</span> '(org-paste-special <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"org paste special"</span>)
    <span style="color: #fae3b0;">"b"</span> '(<span style="color: #89dceb; font-style: italic;">:keymap</span> org-babel-map <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"babel"</span>)
    <span style="color: #fae3b0;">"t"</span> '(org-todo <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"todo"</span>)
    <span style="color: #fae3b0;">"s"</span> '(org-insert-structure-template <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"template"</span>)
    <span style="color: #fae3b0;">"e"</span> '(org-edit-special <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"edit"</span>)
    <span style="color: #fae3b0;">"i"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert"</span>)
    <span style="color: #fae3b0;">"ih"</span> '(org-insert-heading <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert heading"</span>)
    <span style="color: #fae3b0;">"is"</span> '(org-insert-subheading <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert heading"</span>)
    <span style="color: #fae3b0;">"f"</span> '(org-footnote-action <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"footnote action"</span>)
    <span style="color: #fae3b0;">"&gt;"</span> '(org-demote-subtree <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"demote subtree"</span>)
    <span style="color: #fae3b0;">"&lt;"</span> '(org-promote-subtree <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"demote subtree"</span>))
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'org-agenda-mode-map
            <span style="color: #fae3b0;">"j"</span> '(org-agenda-next-line)
            <span style="color: #fae3b0;">"h"</span> '(org-agenda-previous-line))
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (org-mode . olivetti-mode)
  (org-mode . variable-pitch-mode)
  (org-mode . visual-line-mode)
  (org-mode . org-indent-mode) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">indent</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(org-mode . org-num-mode) ;; </span><span style="color: #cc9393;">FIXME</span><span style="color: #6272a4;"> currently too buggy</span>
  (org-mode . (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (electric-indent-local-mode -1))) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">disable electric indentation</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (add-to-list 'org-latex-packages-alist '(<span style="color: #fae3b0;">""</span> <span style="color: #fae3b0;">"braket"</span> t))
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">set up org paths</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-directory <span style="color: #fae3b0;">"~/Dropbox (MIT)/org/agenda"</span>)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-default-notes-file (concat org-directory <span style="color: #fae3b0;">"/notes.org"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c84ff4" class="outline-4">
<h4 id="org4c84ff4"><span class="section-number-4">8.3.2.</span> Extra bindings</h4>
<div class="outline-text-4" id="text-8-3-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil-org</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> org
  <span style="color: #89dceb; font-style: italic;">:hook</span> (org-mode . (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () evil-org-mode))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">require</span> '<span style="color: #bd93f9;">evil-org-agenda</span>)
  (evil-org-agenda-set-keys))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge1342d8" class="outline-4">
<h4 id="orge1342d8"><span class="section-number-4">8.3.3.</span> Sidebar</h4>
<div class="outline-text-4" id="text-8-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-sidebar</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> org
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> git <span style="color: #89dceb; font-style: italic;">:host</span> github <span style="color: #89dceb; font-style: italic;">:repo</span> <span style="color: #fae3b0;">"alphapapa/org-sidebar"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc89a61" class="outline-4">
<h4 id="orgcc89a61"><span class="section-number-4">8.3.4.</span> Cliplink</h4>
<div class="outline-text-4" id="text-8-3-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-cliplink</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> org
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/local-leader-keys</span>
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'org-mode-map 
    <span style="color: #fae3b0;">"lc"</span> '(org-cliplink <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"cliplink"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5737060" class="outline-4">
<h4 id="org5737060"><span class="section-number-4">8.3.5.</span> Superstar</h4>
<div class="outline-text-4" id="text-8-3-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-superstar</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> org
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (org-mode . (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (org-superstar-mode 1)))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-superstar-special-todo-items t)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">SOMEDAY consider using emoji for this</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org519e00b" class="outline-4">
<h4 id="org519e00b"><span class="section-number-4">8.3.6.</span> Org roam</h4>
<div class="outline-text-4" id="text-8-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-roam</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"nr"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"roam"</span>)
    <span style="color: #fae3b0;">"nri"</span> '(org-roam-node-insert t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert node"</span>)
    <span style="color: #fae3b0;">"nrt"</span> '(org-roam-buffer-toggle t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"roam buffer toggle"</span>)
    <span style="color: #fae3b0;">"nrc"</span> '(org-roam-capture t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"roam capture"</span>)
    <span style="color: #fae3b0;">"nrf"</span> '(org-roam-node-find <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"find node"</span>)
    <span style="color: #fae3b0;">"nrd"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"dailies"</span>)
    <span style="color: #fae3b0;">"nrdt"</span> '(org-roam-dailies-goto-today <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"today"</span>)
    <span style="color: #fae3b0;">"nrdt"</span> '(org-roam-dailies-goto-yesterday <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"today"</span>)
    <span style="color: #fae3b0;">"nrdT"</span> '(org-roam-dailies-goto-tomorrow <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"today"</span>)
    <span style="color: #fae3b0;">"nrdd"</span> '(org-roam-dailies-goto-date <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"goto date"</span>))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">get tags to show up in '</span><span style="color: #bd93f9;">org-roam-node-find</span><span style="color: #6272a4;">':</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-roam-node-display-template
        (concat <span style="color: #fae3b0;">"${title:*} "</span>
                (propertize <span style="color: #fae3b0;">"${tags:10}"</span> 'face 'org-tag)))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-roam-completion-everywhere nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">roam completion anywhere</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-roam-directory patrl/notes-path)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-roam-db-location (concat org-roam-directory <span style="color: #fae3b0;">"/.database/org-roam.db"</span>))
  (org-roam-db-autosync-mode) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">ensures that org-roam is available on startup</span>

  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">dailies config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-roam-dailies-directory <span style="color: #fae3b0;">"daily/"</span>)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-roam-dailies-capture-templates
        '((<span style="color: #fae3b0;">"d"</span> <span style="color: #fae3b0;">"default"</span> entry
           <span style="color: #fae3b0;">"* %?"</span>
           <span style="color: #89dceb; font-style: italic;">:target</span> (file+head <span style="color: #fae3b0;">"%&lt;%Y-%m-%d&gt;.org"</span>
                              <span style="color: #fae3b0;">"#+title: %&lt;%Y-%m-%d&gt;\n#+filetags: daily\n"</span>)))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org31218c3"></a><span class="todo TODO">TODO</span> configure the org-roam buffer display<br /></li>
</ol>
</div>

<div id="outline-container-org0540c0b" class="outline-4">
<h4 id="org0540c0b"><span class="section-number-4">8.3.7.</span> Export</h4>
<div class="outline-text-4" id="text-8-3-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">citeproc</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> org)

(<span style="color: #f5c2e7; font-weight: bold;">with-eval-after-load</span> 'ox-latex
   (add-to-list 'org-latex-classes
                '(<span style="color: #fae3b0;">"scrartcl"</span>
                  <span style="color: #fae3b0;">"\\documentclass[letterpaper]{scrartcl}"</span>
                  (<span style="color: #fae3b0;">"\\section{%s}"</span> . <span style="color: #fae3b0;">"\\section*{%s}"</span>)
                  (<span style="color: #fae3b0;">"\\subsection{%s}"</span> . <span style="color: #fae3b0;">"\\subsection*{%s}"</span>)
                  (<span style="color: #fae3b0;">"\\subsubsection{%s}"</span> . <span style="color: #fae3b0;">"\\subsubsection*{%s}"</span>)
                  (<span style="color: #fae3b0;">"\\paragraph{%s}"</span> . <span style="color: #fae3b0;">"\\paragraph*{%s}"</span>)
                  (<span style="color: #fae3b0;">"\\subparagraph{%s}"</span> . <span style="color: #fae3b0;">"\\subparagraph*{%s}"</span>))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org51ebedf" class="outline-4">
<h4 id="org51ebedf"><span class="section-number-4">8.3.8.</span> Highlighting</h4>
<div class="outline-text-4" id="text-8-3-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">htmlize</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7bf380b" class="outline-4">
<h4 id="org7bf380b"><span class="section-number-4">8.3.9.</span> Org-noter</h4>
<div class="outline-text-4" id="text-8-3-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-noter</span>
  <span style="color: #89dceb; font-style: italic;">:commands</span>
  org-noter
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/local-leader-keys</span>
    <span style="color: #89dceb; font-style: italic;">:keyamps</span> 'org-noter-doc-mode-map
    <span style="color: #fae3b0;">"i"</span> 'org-noter-insert-note)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-noter-notes-search-path (list patrl/notes-path))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-noter-default-notes-file-names '(<span style="color: #fae3b0;">"literature-notes.org"</span>))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-noter-hide-other nil)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> org-noter-always-create-frame nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-org670fd6b" class="outline-4">
<h4 id="org670fd6b"><span class="section-number-4">8.3.10.</span> <span class="todo TODO">TODO</span> checkout org-appear</h4>
</div>
</div>

<div id="outline-container-orga59cadd" class="outline-3">
<h3 id="orga59cadd"><span class="section-number-3">8.4.</span> <span class="todo TODO">TODO</span> haskell</h3>
<div class="outline-text-3" id="text-8-4">
<ul class="org-ul">
<li><p>
Setup LSP
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">haskell-mode</span>)
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgafa2ef1" class="outline-3">
<h3 id="orgafa2ef1"><span class="section-number-3">8.5.</span> racket</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">racket-mode</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> (racket-mode . racket-xp-mode) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">n.b. this requires Dr. Racket to be installed as a backend</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/local-leader-keys</span>
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'racket-mode-map
    <span style="color: #fae3b0;">"r"</span> '(racket-run-and-switch-to-repl <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"run"</span>)
    <span style="color: #fae3b0;">"e"</span> '(racket-eval-last-sexp <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"eval last sexp"</span>)
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'racket-xp-mode-map
    <span style="color: #fae3b0;">"xr"</span> '(racket-xp-rename <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"rename"</span>)))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">pollen-mode</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabda43e" class="outline-3">
<h3 id="orgabda43e"><span class="section-number-3">8.6.</span> nix</h3>
<div class="outline-text-3" id="text-8-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">nix-mode</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">There's no `nix-mode-map`, so not currently possible to set local bindings.</span>
  <span style="color: #89dceb; font-style: italic;">:mode</span> <span style="color: #fae3b0;">"\\.nix\\'"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">nix-update</span>
  <span style="color: #89dceb; font-style: italic;">:commands</span>
  nix-update-fetch)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0ee2c0" class="outline-3">
<h3 id="orge0ee2c0"><span class="section-number-3">8.7.</span> <span class="todo SOMEDAY">SOMEDAY</span> latex</h3>
<div class="outline-text-3" id="text-8-7">
<p>
Useful resources:
</p>

<ul class="org-ul">
<li><a href="https://github.com/daviwil/emacs-from-scratch/wiki/LaTeX-config-(AucteX)-in-Emacs-from-scratch">LaTeX config (AucteX) in Emacs from scratch · daviwil/emacs-from-scratch Wiki&#x2026;</a></li>
</ul>

<p>
Configuring <code>auctex</code> is a little like dealing with a teetering stack of plates.
</p>

<p>
Bindings:
</p>

<ul class="org-ul">
<li><code>n b</code>: insert citation via citar (normal mode).</li>
<li><code>, p</code>: preview at point.</li>
<li><code>, c</code>: compile.</li>
</ul>

<p>
Auto-activating snippets:
</p>

<ul class="org-ul">
<li><code>mx</code>: insert in-line equation.</li>
<li><code>mq</code>: insert equation.</li>
<li><code>ii</code>: insert itemize environment.</li>
<li><code>forfor</code>: insert forest environment.</li>
</ul>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">auctex</span>
  <span style="color: #89dceb; font-style: italic;">:no-require</span> t
  <span style="color: #89dceb; font-style: italic;">:mode</span> (<span style="color: #fae3b0;">"\\.tex\\'"</span> . LaTeX-mode)
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> TeX-parse-self t <span style="color: #6272a4;">; </span><span style="color: #6272a4;">parse on load</span>
        reftex-plug-into-AUCTeX t
        TeX-auto-save t  <span style="color: #6272a4;">; </span><span style="color: #6272a4;">parse on save</span>
        TeX-source-correlate-mode t
        TeX-source-correlate-method 'synctex
      TeX-source-correlate-start-server nil
      TeX-electric-sub-and-superscript t
      TeX-engine 'luatex <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">use lualatex by default</span>
      TeX-save-query nil))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">tex</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> auctex
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/local-leader-keys</span>
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'LaTeX-mode-map
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">"TAB" 'TeX-complete-symbol ;; </span><span style="color: #cc9393;">FIXME</span><span style="color: #6272a4;"> let's '</span><span style="color: #bd93f9;">TAB</span><span style="color: #6272a4;">' do autocompletion (but it's kind of useless to be honest)</span>
    <span style="color: #fae3b0;">"="</span> '(reftex-toc <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"reftex toc"</span>)
    <span style="color: #fae3b0;">"("</span> '(reftex-latex <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"reftex label"</span>)
    <span style="color: #fae3b0;">")"</span> '(reftex-reference <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"reftex ref"</span>)
    <span style="color: #fae3b0;">"m"</span> '(LaTeX-macro <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert macro"</span>)
    <span style="color: #fae3b0;">"s"</span> '(LaTeX-section <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert section header"</span>)
    <span style="color: #fae3b0;">"e"</span> '(LaTeX-environment <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"insert environment"</span>)
    <span style="color: #fae3b0;">"p"</span> '(preview-at-point <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"preview at point"</span>)
    <span style="color: #fae3b0;">"f"</span> '(TeX-font <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"font"</span>)
    <span style="color: #fae3b0;">"c"</span> '(TeX-command-run-all <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"compile"</span>))
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> TeX-electric-math (cons <span style="color: #fae3b0;">"</span><span style="color: #89dceb;">\\</span><span style="color: #bd93f9;">(</span><span style="color: #fae3b0;">"</span> <span style="color: #fae3b0;">"</span><span style="color: #89dceb;">\\</span><span style="color: #bd93f9;">)</span><span style="color: #fae3b0;">"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">'</span><span style="color: #bd93f9;">$</span><span style="color: #6272a4;">' inserts an in-line equation '</span><span style="color: #bd93f9;">\(...\)</span><span style="color: #6272a4;">'</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(add-hook 'TeX-mode-hook #'visual-line-mode)</span>
  (add-hook 'TeX-mode-hook #'reftex-mode)
  (add-hook 'TeX-mode-hook #'olivetti-mode)
  (add-hook 'TeX-mode-hook #'turn-on-auto-fill)
  (add-hook 'TeX-mode-hook #'prettify-symbols-mode)
  (add-hook 'TeX-after-compilation-finished-functions
              #'TeX-revert-document-buffer)
  (add-to-list 'TeX-view-program-selection '(output-pdf <span style="color: #fae3b0;">"PDF Tools"</span>))
  (add-hook 'TeX-mode-hook #'outline-minor-mode)
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(add-hook 'TeX-mode-hook #'flymake-aspell-setup)</span>
  (add-to-list 'TeX-view-program-selection '(output-pdf <span style="color: #fae3b0;">"Zathura"</span>)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">pdf-tools</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (pdf-tools-install)
  )
</pre>
</div>

<p>
<code>evil-tex</code> is a crucial component in my workflow. <code>evil-surround</code> integration makes things a breeze. Some examples:
</p>

<ul class="org-ul">
<li>Italicize word from point in normal mode: <code>ysw;i</code>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">evil-tex</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> (LaTeX-mode . evil-tex-mode))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">citar</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> all-the-icons
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">icon support via all-the-icons</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> citar-symbols
        `((file ,(all-the-icons-faicon <span style="color: #fae3b0;">"file-o"</span> <span style="color: #89dceb; font-style: italic;">:face</span> 'all-the-icons-green <span style="color: #89dceb; font-style: italic;">:v-adjust</span> -0.1) . <span style="color: #fae3b0;">" "</span>)
          (note ,(all-the-icons-material <span style="color: #fae3b0;">"speaker_notes"</span> <span style="color: #89dceb; font-style: italic;">:face</span> 'all-the-icons-blue <span style="color: #89dceb; font-style: italic;">:v-adjust</span> -0.3) . <span style="color: #fae3b0;">" "</span>)
          (link ,(all-the-icons-octicon <span style="color: #fae3b0;">"link"</span> <span style="color: #89dceb; font-style: italic;">:face</span> 'all-the-icons-orange <span style="color: #89dceb; font-style: italic;">:v-adjust</span> 0.01) . <span style="color: #fae3b0;">" "</span>)))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> citar-symbol-separator <span style="color: #fae3b0;">"  "</span>)
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"nb"</span> '(citar-open <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"citar"</span>))
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> citar-notes-paths (list patrl/notes-path))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> citar-library-paths (list patrl/library-path))
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> citar-bibliography (list patrl/global-bib-file)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">citar-embark</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> citar embark
  <span style="color: #89dceb; font-style: italic;">:config</span> (citar-embark-mode))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org1bdb605"></a><span class="todo TODO">TODO</span> add "citep" and "citealt" to the supported list of latex citation commands.<br /></li>

<li><a id="orgac41805"></a><span class="todo TODO">TODO</span> latexmk<br />
<div class="outline-text-5" id="text-8-7-0-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #cc9393;">FIXME</span>
(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">auctex-latexmk</span>
  <span style="color: #89dceb; font-style: italic;">:disabled</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> latex 
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> auctex-latexmk-inherit-TeX-PDF-mode t)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (auctex-latexmk-setup))
</pre>
</div>
</div>
</li>
</ol>

<div id="outline-container-org6bb562a" class="outline-4">
<h4 id="org6bb562a"><span class="section-number-4">8.7.1.</span> Issues</h4>
<div class="outline-text-4" id="text-8-7-1">
</div>
<ol class="org-ol">
<li><a id="org35cbfac"></a><span class="todo TODO">TODO</span> pdf buffer isn't reverted in preview continuously mode.<br />
<div class="outline-text-5" id="text-8-7-1-1">
<p>
I think probably I just need to use zathura as the pdf viewer, which has its own smart revert functionality.
</p>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgd3ddc4a" class="outline-3">
<h3 id="orgd3ddc4a"><span class="section-number-3">8.8.</span> markdown</h3>
<div class="outline-text-3" id="text-8-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">markdown-mode</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> ((markdown-mode . visual-line-mode)
         (markdown-mode . olivetti-mode)
         (markdown-mode . variable-pitch-mode))
  <span style="color: #89dceb; font-style: italic;">:commands</span> (markdown-mode gfm-mode)
  <span style="color: #89dceb; font-style: italic;">:mode</span> ((<span style="color: #fae3b0;">"README\\.md\\'"</span> . gfm-mode)
         (<span style="color: #fae3b0;">"\\.md\\'"</span> . markdown-mode)
         (<span style="color: #fae3b0;">"\\.markdown\\'"</span> . markdown-mode))
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> markdown-command <span style="color: #fae3b0;">"pandoc"</span>)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> markdown-header-scaling t))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">pandoc-mode</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> markdown-mode
  <span style="color: #89dceb; font-style: italic;">:hook</span> (markdown-mode . pandoc-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf7c5d81" class="outline-2">
<h2 id="orgf7c5d81"><span class="section-number-2">9.</span> Completion</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orgfcfb4e2" class="outline-3">
<h3 id="orgfcfb4e2"><span class="section-number-3">9.1.</span> Vertico with orderless and marginalia</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">vertico</span>
  <span style="color: #89dceb; font-style: italic;">:init</span> (vertico-mode)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> vertico-cycle t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">enable cycling for '</span><span style="color: #bd93f9;">vertico-next</span><span style="color: #6272a4;">' and '</span><span style="color: #bd93f9;">vertico-prev</span><span style="color: #6272a4;">'</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'vertico-map
            <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">keybindings to cycle through vertico results.</span>
            <span style="color: #fae3b0;">"C-j"</span> 'vertico-next
            <span style="color: #fae3b0;">"C-k"</span> 'vertico-previous
            <span style="color: #fae3b0;">"C-f"</span> 'vertico-exit)
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'minibuffer-local-map
            <span style="color: #fae3b0;">"M-h"</span> 'backward-kill-word))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">orderless</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> completion-styles '(orderless)
        completion-category-defaults nil
        completion-category-overrides '((file (styles partial-completion)))))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">savehist</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (savehist-mode))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">marginalia</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> vertico
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (marginalia-annotators '(marginalia-annotators-heavy marginalia-annotators-light nil))
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (marginalia-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbae5770" class="outline-3">
<h3 id="orgbae5770"><span class="section-number-3">9.2.</span> Consult</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">consult</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"bb"</span> '(consult-buffer <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult buffer"</span>)
    <span style="color: #fae3b0;">"Bb"</span> '(consult-bookmark <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult bookmark"</span>)
    <span style="color: #fae3b0;">"ht"</span> '(consult-theme <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult theme"</span>)
    <span style="color: #fae3b0;">"sr"</span> '(consult-ripgrep <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult rg"</span>)
    <span style="color: #fae3b0;">"sg"</span> '(consult-grep <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult grep"</span>)
    <span style="color: #fae3b0;">"sG"</span> '(consult-git-grep <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult git grep"</span>)
    <span style="color: #fae3b0;">"sf"</span> '(consult-find <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult find"</span>)
    <span style="color: #fae3b0;">"sF"</span> '(consult-locate <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult locate"</span>)
    <span style="color: #fae3b0;">"sl"</span> '(consult-line <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult line"</span>)
    <span style="color: #fae3b0;">"sy"</span> '(consult-yank-from-kill-ring <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult yank from kill ring"</span>)
    <span style="color: #fae3b0;">"i"</span> '(consult-imenu <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult imenu"</span>))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">use project.el to retrieve the project root</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> consult-project-root-function
        (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> ()
          (<span style="color: #f5c2e7; font-weight: bold;">when-let</span> (project (project-current))
            (car (project-roots project))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ebbc02" class="outline-3">
<h3 id="org1ebbc02"><span class="section-number-3">9.3.</span> Embark</h3>
<div class="outline-text-3" id="text-9-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">embark</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
     <span style="color: #fae3b0;">"."</span> 'embark-act) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">easily accessible '</span><span style="color: #bd93f9;">embark-act</span><span style="color: #6272a4;">' binding.</span>
  (<span style="color: #fae3b0;">"C-;"</span> 'embark-dwim)
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'vertico-map
            <span style="color: #fae3b0;">"C-."</span> 'embark-act)
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'embark-heading-map
            <span style="color: #fae3b0;">"l"</span> 'org-id-store-link)
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> prefix-help-command #'embark-prefix-help-command))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">embark-consult</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> (embark consult)
  <span style="color: #89dceb; font-style: italic;">:demand</span> t <span style="color: #6272a4;">; </span><span style="color: #6272a4;">only necessary if you have the hook below</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">if you want to have consult previews as you move around an</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">auto-updating embark collect buffer</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (embark-collect-mode . consult-preview-at-point-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org840fb96" class="outline-3">
<h3 id="org840fb96"><span class="section-number-3">9.4.</span> Corfu</h3>
<div class="outline-text-3" id="text-9-4">
<p>
A minimal ui for <code>completion-in-region</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">corfu</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (eval-expression-minibuffer-setup . corfu-mode)
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (global-corfu-mode) 
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (corfu-cycle t) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">allows cycling through candidates</span>
  (corfu-auto nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">disables auto-completion</span>
  <span style="color: #89dceb; font-style: italic;">:bind</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'corfu-map
            <span style="color: #fae3b0;">"SPC"</span> 'corfu-insert-separator)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">for compatibility with orderless</span>

<span style="color: #6272a4;">;; </span><span style="color: #cc9393;">FIXME</span><span style="color: #6272a4;"> add icons to corfu</span>
<span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(use-package kind-icon</span>
<span style="color: #6272a4;">;;   </span><span style="color: #6272a4;">:after corfu</span>
<span style="color: #6272a4;">;;   </span><span style="color: #6272a4;">:custom</span>
<span style="color: #6272a4;">;;   </span><span style="color: #6272a4;">(kind-icon-default-style '(:padding 0 :stroke 0 :margin 0 :radius 0 :height 0.5 :scale 0.5))</span>
<span style="color: #6272a4;">;;   </span><span style="color: #6272a4;">(kind-icon-default-face 'corfu-default) ; to compute blended backgrounds correctly</span>
<span style="color: #6272a4;">;;   </span><span style="color: #6272a4;">:config</span>
<span style="color: #6272a4;">;;   </span><span style="color: #6272a4;">(add-to-list 'corfu-margin-formatters #'kind-icon-margin-formatter))</span>

(<span style="color: #f5c2e7; font-weight: bold;">general-unbind</span>
  <span style="color: #89dceb; font-style: italic;">:states</span> '(insert)
  <span style="color: #fae3b0;">"C-k"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">this was interfering with corfu completion</span>

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">emacs</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> tab-always-indent 'complete)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">enable tab completion</span>
</pre>
</div>
</div>

<div id="outline-container-org8dedb13" class="outline-4">
<h4 id="org8dedb13"><span class="section-number-4">9.4.1.</span> <span class="todo TODO">TODO</span> this isn't working so well with haskell-mode</h4>
</div>
<div id="outline-container-orgcf617f0" class="outline-4">
<h4 id="orgcf617f0"><span class="section-number-4">9.4.2.</span> <span class="todo TODO">TODO</span> consider incorporating the <code>cape</code> package</h4>
</div>

<div id="outline-container-org7e12cc9" class="outline-4">
<h4 id="org7e12cc9"><span class="section-number-4">9.4.3.</span> <span class="todo SOMEDAY">SOMEDAY</span> Cape</h4>
<div class="outline-text-4" id="text-9-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">cape</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (add-to-list 'completion-at-point-functions #'cape-file)
  (add-to-list 'completion-at-point-functions #'cape-dabbrev))
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org80d8211" class="outline-2">
<h2 id="org80d8211"><span class="section-number-2">10.</span> Checkers</h2>
<div class="outline-text-2" id="text-10">
<ul class="org-ul">
<li>Use <code>flymake</code> over <code>flycheck</code>.</li>
</ul>
</div>

<div id="outline-container-org814ec23" class="outline-3">
<h3 id="org814ec23"><span class="section-number-3">10.1.</span> FIXME Flymake</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">flymake</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in)
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #89dceb; font-style: italic;">:keymaps</span> 'flymake-mode-map
    <span style="color: #fae3b0;">"cf"</span> '(consult-flymake <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"consult flymake"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">depends on consult</span>
    <span style="color: #fae3b0;">"cc"</span> '(flymake-mode <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"toggle flymake"</span>)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">depends on consult</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (TeX-mode . flymake-mode) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">this is now working</span>
  (emacs-lisp-mode . flymake-mode)
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (flymake-no-changes-timeout nil)
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">general-nmap</span> <span style="color: #fae3b0;">"] !"</span> 'flymake-goto-next-error)
  (<span style="color: #f5c2e7; font-weight: bold;">general-nmap</span> <span style="color: #fae3b0;">"[ !"</span> 'flymake-goto-prev-error))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ce3d22" class="outline-3">
<h3 id="org4ce3d22"><span class="section-number-3">10.2.</span> Spell check</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">flymake-aspell</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> flymake)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">ispell</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in)
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> ispell-dictionary <span style="color: #fae3b0;">"en_US"</span>)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> ispell-program-name <span style="color: #fae3b0;">"aspell"</span>)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> ispell-silently-savep t))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga309801" class="outline-2">
<h2 id="orga309801"><span class="section-number-2">11.</span> Tools</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org754ee5e" class="outline-3">
<h3 id="org754ee5e"><span class="section-number-3">11.1.</span> Snippets</h3>
<div class="outline-text-3" id="text-11-1">
</div>
<div id="outline-container-org05882fa" class="outline-4">
<h4 id="org05882fa"><span class="section-number-4">11.1.1.</span> Auto-activating snippets</h4>
<div class="outline-text-4" id="text-11-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">aas</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> (LaTeX-mode . aas-activate-for-major-mode)
  <span style="color: #89dceb; font-style: italic;">:hook</span> (org-mode . aas-activate-for-major-mode)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">easy emoji entry in text mode.</span>
  (aas-set-snippets 'text-mode
    <span style="color: #fae3b0;">":-)"</span> <span style="color: #fae3b0;">"&#128578;"</span>
    <span style="color: #fae3b0;">"8-)"</span> <span style="color: #fae3b0;">"&#128526;"</span>
    <span style="color: #fae3b0;">":rofl"</span> <span style="color: #fae3b0;">"&#129315;"</span>
    <span style="color: #fae3b0;">":lol"</span> <span style="color: #fae3b0;">"&#128514;"</span>
    <span style="color: #fae3b0;">"&lt;3"</span> <span style="color: #fae3b0;">"&#10084;&#65039;"</span>
    <span style="color: #fae3b0;">":eyes"</span> <span style="color: #fae3b0;">"&#128064;"</span>
    <span style="color: #fae3b0;">":dragon"</span> <span style="color: #fae3b0;">"&#128009;"</span>
    <span style="color: #fae3b0;">":fire"</span> <span style="color: #fae3b0;">"&#128293;"</span>
    <span style="color: #fae3b0;">":hole"</span> <span style="color: #fae3b0;">"&#128371;&#65039;"</span>
    <span style="color: #fae3b0;">":flush"</span> <span style="color: #fae3b0;">"&#128563;"</span>
    <span style="color: #fae3b0;">":wow"</span> <span style="color: #fae3b0;">"&#128558;"</span>))
</pre>
</div>

<ul class="org-ul">
<li>Accents are interfering with apostrophes!</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">laas</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span> ((LaTeX-mode . laas-mode)
         (org-mode . laas-mode))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (aas-set-snippets 'laas-mode
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">I need to make sure not to accidentally trigger the following, so I should only use impossible (or extremely rare) bigrams/trigrams.</span>
    <span style="color: #fae3b0;">"*b"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
           (yas-expand-snippet <span style="color: #fae3b0;">"\\textbf{$1}$0"</span>))
    <span style="color: #fae3b0;">"*i"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
           (yas-expand-snippet <span style="color: #fae3b0;">"\\textit{$1}$0"</span>))
    <span style="color: #fae3b0;">"mx"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\\\($1\\\\)$0"</span>))
    <span style="color: #fae3b0;">"mq"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\[</span><span style="color: #bd93f9;">$1\\</span><span style="color: #fae3b0;">]$0"</span>))
    <span style="color: #fae3b0;">"*I"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\begin{enumerate}\n$&gt;\\item $0\n\\end{enumerate}"</span>))
    <span style="color: #fae3b0;">"*e"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\begin{exe}\n$&gt;\\ex $0\n\\end{exe}"</span>))
    <span style="color: #fae3b0;">"*f"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\begin{forest}\n[{$1}\n[{$2}]\n[{$0}]\n]\n\\end{forest}"</span>))
    <span style="color: #fae3b0;">"*\""</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\enquote{$1}$0"</span>))
    <span style="color: #89dceb; font-style: italic;">:cond</span> #'texmathp <span style="color: #6272a4;">; </span><span style="color: #6272a4;">expand only while in math </span>
    <span style="color: #fae3b0;">"Olon"</span> <span style="color: #fae3b0;">"O(n \\log n)"</span>
    <span style="color: #fae3b0;">";:"</span> <span style="color: #fae3b0;">"\\coloneq"</span>
    <span style="color: #fae3b0;">";;N"</span> <span style="color: #fae3b0;">"\\mathbb{N}"</span>
    <span style="color: #fae3b0;">";T"</span> <span style="color: #fae3b0;">"\\top"</span>
    <span style="color: #fae3b0;">";B"</span> <span style="color: #fae3b0;">"\\bot"</span>
    <span style="color: #fae3b0;">";;x"</span> <span style="color: #fae3b0;">"\\times"</span>
    <span style="color: #fae3b0;">";;v"</span> <span style="color: #fae3b0;">"\\veebar"</span>
    <span style="color: #fae3b0;">";;u"</span> <span style="color: #fae3b0;">"\\cup"</span>
    <span style="color: #fae3b0;">";;{"</span> <span style="color: #fae3b0;">"\\subseteq"</span>
    <span style="color: #fae3b0;">";D"</span> <span style="color: #fae3b0;">"\\Diamond"</span>
    <span style="color: #fae3b0;">";;b"</span> <span style="color: #fae3b0;">"\\Box"</span> 
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">bind to functions!</span>
    <span style="color: #fae3b0;">"sum"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\sum_{$1}^{$2} $0"</span>))
    <span style="color: #fae3b0;">"grandu"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\bigcup</span><span style="color: #f28fad; background-color: #1A1826;">\</span><span style="color: #fae3b0;">limits_{$1} $0"</span>))
    <span style="color: #fae3b0;">"Span"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
             (yas-expand-snippet <span style="color: #fae3b0;">"\\Span($1)$0"</span>))
    <span style="color: #fae3b0;">"lam"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
            (yas-expand-snippet <span style="color: #fae3b0;">"\\lambda $1_{$2}\\,.\\,$0"</span>))
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">"set" (lambda () (interactive)</span>
    <span style="color: #6272a4;">;;           </span><span style="color: #6272a4;">(yas-expand-snippet "\\set{ $1 | $2} $0"))</span>
    <span style="color: #fae3b0;">"txt"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
              (yas-expand-snippet <span style="color: #fae3b0;">"\\text{$1} $0"</span>))
    <span style="color: #fae3b0;">";;o"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
              (yas-expand-snippet <span style="color: #fae3b0;">"\\oplus"</span>))
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">"ev" (lambda () (interactive)</span>
    <span style="color: #6272a4;">;;             </span><span style="color: #6272a4;">(yas-expand-snippet "\\left\\llbracket$3\\right\\rrbracket^$1_$2 $3"))</span>
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">clash with event type sigs</span>
    <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">add accent snippets</span>
    <span style="color: #89dceb; font-style: italic;">:cond</span> #'laas-object-on-left-condition
    <span style="color: #fae3b0;">"qq"</span> (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> () (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>) (laas-wrap-previous-object <span style="color: #fae3b0;">"sqrt"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb88c8dd" class="outline-4">
<h4 id="orgb88c8dd"><span class="section-number-4">11.1.2.</span> Yasnippet</h4>
<div class="outline-text-4" id="text-11-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">yasnippet</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (yas-reload-all)
  (add-to-list 'yas-snippet-dirs <span style="color: #fae3b0;">"~/.config/emacs-vanilla/snippets"</span>)
  (yas-global-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6838c4" class="outline-4">
<h4 id="orgd6838c4"><span class="section-number-4">11.1.3.</span> <span class="todo TODO">TODO</span> Tempel</h4>
<div class="outline-text-4" id="text-11-1-3">
<p>
Templates can be found in <code>~/.config/emacs-vanilla/templates</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">tempel</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #fae3b0;">"M-+"</span> 'tempel-complete
   <span style="color: #fae3b0;">"M-*"</span> 'tempel-insert)
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'tempel-map
            <span style="color: #fae3b0;">"TAB"</span> 'tempel-next) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">progress through fields via `</span><span style="color: #bd93f9;">TAB</span><span style="color: #6272a4;">'</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">tempel-setup-capf</span> ()
    (add-hook 'completion-at-point-functions #'tempel-expand))
  (add-hook 'prog-mode-hook 'tempel-setup-capf)
  (add-hook 'text-mode-hook 'tempel-setup-capf))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f8b532" class="outline-4">
<h4 id="org7f8b532"><span class="section-number-4">11.1.4.</span> Autoinsert</h4>
<div class="outline-text-4" id="text-11-1-4">
<ul class="org-ul">
<li><a href="https://emacs.stackexchange.com/questions/45629/template-for-new-file">Template for new file - Emacs Stack Exchange</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">autoinsert</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> auto-insert-query nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Do not ask when inserting</span>
  (auto-insert-mode 1) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">enable auto-insert-mode globally</span>
  (add-hook 'find-file-hook 'auto-insert) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">run auto-insert when a new file is opened</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> auto-insert-alist nil)) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">delete default auto-inserts</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org5b06245"></a><span class="todo TODO">TODO</span> setup built in package <code>autoinsert</code> for file templates via yasnippet.<br /></li>
</ol>
</div>
</div>

<div id="outline-container-orgabd1433" class="outline-3">
<h3 id="orgabd1433"><span class="section-number-3">11.2.</span> Web preview</h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">simple-httpd</span>
  <span style="color: #89dceb; font-style: italic;">:commands</span> httpd-serve-directory)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f04c29" class="outline-3">
<h3 id="org0f04c29"><span class="section-number-3">11.3.</span> Magit</h3>
<div class="outline-text-3" id="text-11-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">magit</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"g"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"git"</span>)
    <span style="color: #fae3b0;">"gg"</span> '(magit-status <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"status"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org51ba9df" class="outline-3">
<h3 id="org51ba9df"><span class="section-number-3">11.4.</span> Eshell</h3>
<div class="outline-text-3" id="text-11-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">eshell</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> built-in)
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"oe"</span> '(eshell <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"eshell"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcd3f9f6" class="outline-3">
<h3 id="orgcd3f9f6"><span class="section-number-3">11.5.</span> LSP</h3>
<div class="outline-text-3" id="text-11-5">
<p>
Note I still need to set keybindings
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">lsp-mode</span>
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (lsp-completion-provider <span style="color: #89dceb; font-style: italic;">:none</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">we use corfu!</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  <span style="color: #6272a4;">;; </span><span style="color: #cc9393;">FIXME</span><span style="color: #6272a4;"> function isn't getting auto-loaded.</span>
  (<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">patrl/lsp-mode-setup-completion</span> ()
    (<span style="color: #f5c2e7; font-weight: bold;">setf</span> (alist-get 'styles (alist-get 'lsp-capf completion-category-defaults))
          '(orderless))) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">Configure orderless</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (lsp-mode . lsp-enable-which-key-integration)
  (lsp-completion-mode . patrl/lsp-mode-setup-completion) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">setup orderless completion style.</span>
  <span style="color: #89dceb; font-style: italic;">:commands</span>
  lsp)

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">lsp-ui</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> lsp-mode
  <span style="color: #89dceb; font-style: italic;">:commands</span> lsp-ui-mode)

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">lsp-haskell</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> lsp-mode
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> lsp-haskell-server-path <span style="color: #fae3b0;">"haskell-language-server"</span>) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">for some reason this doesn't get found automatically</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">(setq lsp-haskell-formatting-provider "brittany")</span>
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org966bdf8" class="outline-3">
<h3 id="org966bdf8"><span class="section-number-3">11.6.</span> direnv</h3>
<div class="outline-text-3" id="text-11-6">
<p>
Essential, since I'm on NixOS.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">direnv</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (direnv-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4d5b071" class="outline-3">
<h3 id="org4d5b071"><span class="section-number-3">11.7.</span> <code>0x0</code></h3>
<div class="outline-text-3" id="text-11-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">0x0</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"x"</span> '(<span style="color: #89dceb; font-style: italic;">:ignore</span> t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"web"</span>)
    <span style="color: #fae3b0;">"x;"</span> '(0x0-dwim t <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"0x0 dwim"</span>)
    <span style="color: #fae3b0;">"xt"</span> '(0x0-upload-text <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"0x0 upload text"</span>)
    <span style="color: #fae3b0;">"xf"</span> '(0x0-upload-file <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"0x0 upload file"</span>)
    <span style="color: #fae3b0;">"xk"</span> '(0x0-upload-kill-ring <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"0x0 upload kill ring"</span>)
    <span style="color: #fae3b0;">"xp"</span> '(0x0-popup <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"0x0 popup"</span>)
    <span style="color: #fae3b0;">"xs"</span> '(0x0-shorten-uri <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"0x0 shorten url"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbdf6dd2" class="outline-3">
<h3 id="orgbdf6dd2"><span class="section-number-3">11.8.</span> <span class="todo TODO">TODO</span> Elfeed</h3>
<div class="outline-text-3" id="text-11-8">
<p>
Resources:
</p>
<ul class="org-ul">
<li><a href="https://karthinks.com/software/lazy-elfeed/">Lazy Elfeed | Karthinks</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #6272a4;">;; </span><span style="color: #6272a4;">We write a function to determine how we want elfeed to display the buffer with the current entry.</span>
(<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">patrl/elfeed-display-buffer</span> (buf <span style="color: #89dceb; font-style: italic;">&amp;optional</span> act)
  (pop-to-buffer buf)
  (set-window-text-height (get-buffer-window) (round (* 0.7 (frame-height)))))

(<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">patrl/elfeed-search-show-entry-pre</span> (<span style="color: #89dceb; font-style: italic;">&amp;optional</span> lines)
  <span style="color: #6272a4;">"Returns a function to scroll forward or back in the Elfeed search results, displaying entries without switching to them."</span>
  (<span style="color: #f5c2e7; font-weight: bold;">lambda</span> (times)
    (<span style="color: #f5c2e7; font-weight: bold;">interactive</span> <span style="color: #fae3b0;">"p"</span>)
    (forward-line (* times (<span style="color: #f5c2e7; font-weight: bold;">or</span> lines 0)))
    (recenter)
    (call-interactively #'elfeed-search-show-entry)
    (select-window (previous-window))
    (<span style="color: #f5c2e7; font-weight: bold;">unless</span> elfeed-search-remain-on-entry (forward-line -1))))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">elfeed</span>
  <span style="color: #89dceb; font-style: italic;">:commands</span> elfeed
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"oE"</span> '(elfeed <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"elfeed"</span>))
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">:config</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> elfeed-show-entry-switch #'patrl/elfeed-display-buffer))

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">elfeed-org</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
 (<span style="color: #f5c2e7; font-weight: bold;">setq</span> rmh-elfeed-org-files (list <span style="color: #fae3b0;">"~/Dropbox (MIT)/org/elfeed.org"</span>))
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (elfeed-org))
</pre>
</div>
</div>
</div>

<div id="outline-container-org05efc3b" class="outline-3">
<h3 id="org05efc3b"><span class="section-number-3">11.9.</span> <span class="todo TODO">TODO</span> Notmuch</h3>
<div class="outline-text-3" id="text-11-9">
<p>
A gmail-focused notmuch setup, with <code>lieer</code> as the sync backend.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">notmuch</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">in gmail, messages are trashed by removing the '</span><span style="color: #bd93f9;">inbox</span><span style="color: #6272a4;">' tag, and adding the '</span><span style="color: #bd93f9;">trash</span><span style="color: #6272a4;">' tag. This will move messages to the gmail trash folder, but won't permnanently delete them.</span>
  (<span style="color: #f5c2e7; font-weight: bold;">defvar</span> <span style="color: #d9e0ee; font-weight: bold;">+notmuch-delete-tags</span> '(<span style="color: #fae3b0;">"+trash"</span> <span style="color: #fae3b0;">"-inbox"</span> <span style="color: #fae3b0;">"-unread"</span> <span style="color: #fae3b0;">"-new"</span>))
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">in gmail, messages are archived simply by removing the '</span><span style="color: #bd93f9;">inbox</span><span style="color: #6272a4;">' tag.</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> notmuch-archive-tags '(<span style="color: #fae3b0;">"-inbox"</span> <span style="color: #fae3b0;">"-new"</span>))
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">show new mail first</span>
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">the '</span><span style="color: #bd93f9;">new</span><span style="color: #6272a4;">' tag isn't synced to the gmail server; messages new to notmuch aquire this tag.</span>
  (add-to-list 'notmuch-saved-searches '(<span style="color: #89dceb; font-style: italic;">:name</span> <span style="color: #fae3b0;">"new"</span> <span style="color: #89dceb; font-style: italic;">:query</span> <span style="color: #fae3b0;">"tag:new"</span> <span style="color: #89dceb; font-style: italic;">:key</span> <span style="color: #fae3b0;">"n"</span>))
  (<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">+notmuch/search-delete</span> ()
    (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
    (notmuch-search-add-tag +notmuch-delete-tags)
    (notmuch-tree-next-message))
  (<span style="color: #f5c2e7; font-weight: bold;">defun</span> <span style="color: #abe9b3; font-weight: bold;">+notmuch/tree-delete</span> ()
    (<span style="color: #f5c2e7; font-weight: bold;">interactive</span>)
    (notmuch-tree-add-tag +notmuch-delete-tags)
    (notmuch-tree-next-message))
  (<span style="color: #f5c2e7; font-weight: bold;">setq-default</span> notmuch-search-oldest-first nil)
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">sending mail</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> message-kill-buffer-on-exit t)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> message-send-mail-function #'smtpmail-send-it)
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> smtpmail-stream-type 'starttls)
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"on"</span> '(notmuch <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"notmuch"</span>)) 
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">single key deletion.</span>
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'notmuch-search-mode-map
            <span style="color: #89dceb; font-style: italic;">:states</span> 'normal
            <span style="color: #fae3b0;">"D"</span> '+notmuch/search-delete)
  (<span style="color: #89dceb; font-style: italic;">:keymaps</span> 'notmuch-tree-mode-map
            <span style="color: #89dceb; font-style: italic;">:states</span> 'normal
            <span style="color: #fae3b0;">"D"</span> '+notmuch/tree-delete))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgf367bf1" class="outline-2">
<h2 id="orgf367bf1"><span class="section-number-2">12.</span> Staging grounds</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-orgfdf55a0" class="outline-3">
<h3 id="orgfdf55a0"><span class="section-number-3">12.1.</span> consult-notmuch</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">consult-notmuch</span>
  <span style="color: #89dceb; font-style: italic;">:commands</span> consult-notmuch
  <span style="color: #89dceb; font-style: italic;">:after</span> notmuch)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdeed7cb" class="outline-3">
<h3 id="orgdeed7cb"><span class="section-number-3">12.2.</span> Org transclusion</h3>
<div class="outline-text-3" id="text-12-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-transclusion</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> org
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"nt"</span> '(org-transclusion-mode <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"transclusion mode"</span>)))
</pre>
</div>
</div>
</div>


<div id="outline-container-org40b811f" class="outline-3">
<h3 id="org40b811f"><span class="section-number-3">12.3.</span> Kmonad</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">kbd-mode</span> 
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> git <span style="color: #89dceb; font-style: italic;">:host</span> github <span style="color: #89dceb; font-style: italic;">:repo</span>
                   <span style="color: #fae3b0;">"kmonad/kbd-mode"</span>))
</pre>
</div>
</div>

<div id="outline-container-org0cbfb75" class="outline-4">
<h4 id="org0cbfb75"><span class="section-number-4">12.3.1.</span> <span class="todo TODO">TODO</span> disable flymake mode in kbd-mode</h4>
</div>
</div>

<div id="outline-container-orga34128a" class="outline-3">
<h3 id="orga34128a"><span class="section-number-3">12.4.</span> Org modern</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">org-modern</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> git <span style="color: #89dceb; font-style: italic;">:host</span> github <span style="color: #89dceb; font-style: italic;">:repo</span>
                   <span style="color: #fae3b0;">"minad/org-modern"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org51e75f0" class="outline-3">
<h3 id="org51e75f0"><span class="section-number-3">12.5.</span> FIXME Smooth scrolling</h3>
<div class="outline-text-3" id="text-12-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">pdf-continuous-scroll-mode</span>
  <span style="color: #89dceb; font-style: italic;">:after</span> pdf-tools
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> git <span style="color: #89dceb; font-style: italic;">:host</span> github <span style="color: #89dceb; font-style: italic;">:repo</span> <span style="color: #fae3b0;">"dalanicolai/pdf-continuous-scroll-mode.el"</span>))  
</pre>
</div>
</div>
</div>

<div id="outline-container-org92ac29b" class="outline-3">
<h3 id="org92ac29b"><span class="section-number-3">12.6.</span> Numbex</h3>
<div class="outline-text-3" id="text-12-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">numbex</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> git <span style="color: #89dceb; font-style: italic;">:host</span> github <span style="color: #89dceb; font-style: italic;">:repo</span> <span style="color: #fae3b0;">"enricoflor/numbex"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb042710" class="outline-3">
<h3 id="orgb042710"><span class="section-number-3">12.7.</span> Deadgrep</h3>
<div class="outline-text-3" id="text-12-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">deadgrep</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"sd"</span> '(deadgrep <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"deadgrep"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org27b91e4" class="outline-3">
<h3 id="org27b91e4"><span class="section-number-3">12.8.</span> Tree-sitter</h3>
<div class="outline-text-3" id="text-12-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">tree-sitter</span>)

(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">tree-sitter-langs</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1a7ef3" class="outline-3">
<h3 id="orgd1a7ef3"><span class="section-number-3">12.9.</span> Helpful</h3>
<div class="outline-text-3" id="text-12-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">helpful</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #f5c2e7; font-weight: bold;">patrl/leader-keys</span>
    <span style="color: #fae3b0;">"hc"</span> '(helpful-command <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"helpful command"</span>)
    <span style="color: #fae3b0;">"hf"</span> '(helpful-callable <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"helpful callable"</span>)
    <span style="color: #fae3b0;">"hh"</span> '(helpful-at-point <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"helpful at point"</span>)
    <span style="color: #fae3b0;">"hF"</span> '(helpful-function <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"helpful function"</span>)
    <span style="color: #fae3b0;">"hv"</span> '(helpful-variable <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"helpful variable"</span>)
    <span style="color: #fae3b0;">"hk"</span> '(helpful-key <span style="color: #89dceb; font-style: italic;">:wk</span> <span style="color: #fae3b0;">"helpful key"</span>)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc43f5e4" class="outline-2">
<h2 id="orgc43f5e4"><span class="section-number-2">13.</span> Graveyard</h2>
<div class="outline-text-2" id="text-13">
<p>
Packages i've tried out which, for whatever reason, haven't suited me.
</p>
</div>

<div id="outline-container-org469fc8a" class="outline-3">
<h3 id="org469fc8a"><span class="section-number-3">13.1.</span> math convert</h3>
<div class="outline-text-3" id="text-13-1">
<p>
Enrico Flor's math-convert:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">math-convert</span>
  <span style="color: #89dceb; font-style: italic;">:straight</span> (<span style="color: #89dceb; font-style: italic;">:type</span> git <span style="color: #89dceb; font-style: italic;">:repo</span> <span style="color: #fae3b0;">"git@github.com:enricoflor/math-convert.git"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2fb16ad" class="outline-3">
<h3 id="org2fb16ad"><span class="section-number-3">13.2.</span> Cdrt</h3>
<div class="outline-text-3" id="text-13-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">crdt</span>
  <span style="color: #89dceb; font-style: italic;">:disabled</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a7010f" class="outline-3">
<h3 id="org1a7010f"><span class="section-number-3">13.3.</span> cdlatex</h3>
<div class="outline-text-3" id="text-13-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">cdlatex</span>
  <span style="color: #89dceb; font-style: italic;">:disabled</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1198843" class="outline-3">
<h3 id="org1198843"><span class="section-number-3">13.4.</span> company</h3>
<div class="outline-text-3" id="text-13-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">company</span>
  <span style="color: #89dceb; font-style: italic;">:disabled</span>
  <span style="color: #89dceb; font-style: italic;">:custom</span>
  (company-idle-delay nil) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">turn off auto-completion</span>
  <span style="color: #89dceb; font-style: italic;">:general</span>
  (<span style="color: #89dceb; font-style: italic;">:keymap</span> 'company-mode-map
           <span style="color: #fae3b0;">"C-SPC"</span> 'company-complete) <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">keybinding to trigger company completion</span>
  <span style="color: #89dceb; font-style: italic;">:hook</span>
  (prog-mode . company-mode)
  (LaTeX-mode . company-mode)
  <span style="color: #89dceb; font-style: italic;">:config</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">the following stops company from using the orderless completion style</span>
  <span style="color: #6272a4;">;; </span><span style="color: #6272a4;">makes company much more useful</span>
  (<span style="color: #f5c2e7; font-weight: bold;">define-advice</span> <span style="color: #abe9b3; font-weight: bold;">company-capf</span>
      (<span style="color: #89dceb; font-style: italic;">:around</span> (orig-fun <span style="color: #89dceb; font-style: italic;">&amp;rest</span> args) set-completion-styles)
    (<span style="color: #f5c2e7; font-weight: bold;">let</span> ((completion-styles '(basic partial-completion)))
      (apply orig-fun args))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #f5c2e7; font-weight: bold;">use-package</span> <span style="color: #bd93f9;">company-bibtex</span>
  <span style="color: #89dceb; font-style: italic;">:disabled</span>
  <span style="color: #89dceb; font-style: italic;">:init</span>
  (<span style="color: #f5c2e7; font-weight: bold;">setq</span> company-bibtex-bibliography
        (list patrl/global-bib-file))
  <span style="color: #89dceb; font-style: italic;">:after</span> company
  <span style="color: #89dceb; font-style: italic;">:config</span>
  (add-to-list 'company-backends 'company-bibtex))
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Patrick D. Elliott</p>
<p class="date">Created: 2022-09-20 Tue 04:05</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
